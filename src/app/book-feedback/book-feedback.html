<div class="home-container">
  <h2 class="pacifico-heading">We're still building Our BookNestâ€¦</h2>
  <h3 class="pacifico-heading">Help Shape the Nest with your Feedback</h3>
</div>

<div class="construction-wrapper">
  <div class="construction-icon">ðŸš§</div>
  <!---p class="construction-text">Under Construction</p--->
</div>

<section class="results">
  @if (!loading && feedback.length > 0) {
    <table class="table table-hover table-striped table-bordered">
      <thead>
        <tr>
          <th>Type</th>
          <th>Message</th>
          <th>Message Date</th>
          <th class="text-center">Delete</th>
        </tr>
      </thead>

      <tbody>
        @for (f of feedback; track f.id) {
          <tr>
            <td>{{ f.type }}</td>
            <td>{{ f.message }}</td>
            <td>{{ f.createdDate | date:'short' }}</td>
            <td class="text-center">
              <a
                class="icon-link delete-icon"
                (click)="deleteFeedback(f.id)">
                ðŸ§¹
              </a>
            </td>
          </tr>
        }
      </tbody>
    </table>
  } @else if (!loading) {
    <div class="empty-state">
      <div class="empty-icon">âœ¨</div>
      <p>No feedback messages found.</p>
     </div>
  }
  <div class="mt-3 button-row">
    <button class="btn cute-btn" (click)="openModal()">
      âž• Add Feedback
    </button>
  </div>
</section>

@if (showModal) {
  <div class="modal-backdrop fade show"></div>

  <div class="modal fade show d-block" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <h3 class="pacifico-heading">Add Feedback</h3>
          <button type="button" class="btn-close" (click)="closeModal()"></button>
        </div>

        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Type</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="newType"
              placeholder="e.g. suggestion, feature, bug" />
          </div>

          <div class="mb-3">
            <label class="form-label">Message</label>
            <textarea
              class="form-control"
              rows="4"
              [(ngModel)]="newMessage">
            </textarea>
          </div>
        </div>

        <div class="modal-footer button-row">
          <button class="btn btn-details" (click)="saveFeedback()">Save</button>
          <button class="btn btn-delete" (click)="closeModal()">Cancel</button>
        </div>

      </div>
    </div>
  </div>
}
