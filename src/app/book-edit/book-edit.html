<h3 class="pacifico-heading"><em>{{ currentBook.title }}</em> Edit</h3>
<div class="book-details-container">

  <div class="edit">


    <form [formGroup]="bookEditForm">

      <div class="form-group">
        <label for="title">Title :</label>
        <input id="title" formControlName="title" type="text">
        @if (
          bookEditForm.get('title')?.invalid &&
          bookEditForm.get('title')?.touched
          ) {
          <div class="validation-hint">
            Title is required.
          </div>
          }
      </div>

      <div class="form-group">
        <label for="author_first_name">Author First Name :</label>
        <input id="author_first_name" formControlName="author_first_name" type="text">
        @if (
          bookEditForm.get('author_first_name')?.invalid &&
          bookEditForm.get('author_first_name')?.touched
          ) {
          <div class="validation-hint">
            Author's first name is required.
          </div>
          }
      </div>

      <div class="form-group">
        <label for="author_last_name">Author Last Name :</label>
        <input id="author_last_name" formControlName="author_last_name" type="text">
        @if (
          bookEditForm.get('author_last_name')?.invalid &&
          bookEditForm.get('author_last_name')?.touched
          ) {
          <div class="validation-hint">
            Author's last name is required.
          </div>
          }
      </div>

      <div class="form-group">
        <label for="series_name">Series Name* :</label>
        <input id="series_name" formControlName="series_name" type="text">
      </div>

      <div class="form-group">
        <label for="publication_year">Publication Year :</label>
        <input id="publication_year" formControlName="publication_year" type="number" min="1000" max="2050">
      </div>

      <div class="form-group">
        <label for="location">Location :</label>
        <select id="location" formControlName="location">
          @for (loc of locations; track loc) {
          <option [value]="loc">{{ loc }}</option>
        }
        </select>
        @if (
          bookEditForm.get('location')?.invalid &&
          bookEditForm.get('location')?.touched
        ) {
          <div class="validation-hint">
            Please select a location.
          </div>
        }
      </div>
      <div class="form-group">
        <label for="bookcase">Book Case # :</label>
        <input id="bookcase" formControlName="bookcase" type="number" min="0" max="20">
      </div>

      <div class="form-group">
        <label for="bookshelf">Book Shelf # :</label>
        <input id="bookshelf" formControlName="bookshelf" type="number" min="0" max="10">
      </div>

      <div class="form-group">
        <label for="imagePath">imagePath* :</label>
        <input id="imagePath" formControlName="imagePath" type="string">
      </div>
      <span class="not-required-note">* not required</span>
    </form>
  </div>


<div class="divider"></div>

  <img class="book-picture" [src]="currentBook.imagePath || '/images/detailsBookImage.jpg'">

</div>
@if (showEditValidationModal) {
  <div class="modal-backdrop"></div>

  <div class="delete-modal">
    <h3 class="pacifico-heading">Missing Information</h3>
    <p>Please fill out all required fields before updating.</p>

    <div class="modal-buttons">
      <button class="btn btn-details" (click)="closeEditValidationModal()">OK</button>
    </div>
  </div>
}
<div class="edit-buttons button-row">
  <button class="btn btn-edit" (click)="saveBook()">Update</button>
  <a class="btn btn-delete" [routerLink]="['/books/search']">Cancel</a>
</div>
